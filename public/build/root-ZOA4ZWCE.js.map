{
  "version": 3,
  "sources": ["browser-route-module:/Users/telos/Documents/GitHub/remix-starter/app/root.tsx?browser", "../../app/root.tsx"],
  "sourcesContent": ["export { ErrorBoundary, default, meta } from \"/Users/telos/Documents/GitHub/remix-starter/app/root.tsx\";", "import { useEffect, useState } from \"react\";\nimport type {\n  ErrorBoundaryComponent,\n  LoaderFunction,\n  MetaFunction,\n} from \"remix\";\nimport {\n  Links,\n  LiveReload,\n  Meta,\n  Outlet,\n  Scripts,\n  ScrollRestoration,\n  useLoaderData,\n  useMatches,\n} from \"remix\";\nimport {\n  getRecommendedLocale,\n  loadTranslations,\n  locales,\n} from \"~/helpers/i18n\";\n\nexport const meta: MetaFunction = () => {\n  return { title: \"Pabio\" };\n};\n\ntype LoaderData = {\n  i18n: Record<string, string>;\n  recommendedLocale?: string;\n  recommendedLocaleUrl: string;\n};\n\nexport const loader: LoaderFunction = async (args): Promise<LoaderData> => {\n  const recommendedLocale = await getRecommendedLocale(\n    args.request,\n    args.params.locale\n  );\n  const url = new URL(args.request.url);\n  return {\n    i18n: loadTranslations(\n      args.params.locale,\n      Object.keys(locales).map((countryCode) => `country_${countryCode}`)\n    ),\n    recommendedLocale:\n      args.params.locale === recommendedLocale ? undefined : recommendedLocale,\n    recommendedLocaleUrl: url.pathname.replace(\n      args.params.locale ?? \"\",\n      recommendedLocale\n    ),\n  };\n};\n\nconst BaseTemplate: React.FC = ({ children }) => (\n  <html lang=\"en\">\n    <head>\n      <meta charSet=\"utf-8\" />\n      <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n      <Meta />\n      <Links />\n      <style\n        dangerouslySetInnerHTML={{\n          __html: `\nbody {\n\tfont-family: system-ui, sans-serif;\n\tline-height: 1.4;\n\tmargin: 0 auto;\n\tmax-width: 720px;\n}\na { color: blue; }\n\t\t\t\t`,\n        }}\n      />\n    </head>\n    <body>\n      {children}\n      <ScrollRestoration />\n      <Scripts />\n      {process.env.NODE_ENV === \"development\" && <LiveReload />}\n    </body>\n  </html>\n);\n\nexport default function App() {\n  const { i18n, recommendedLocale, recommendedLocaleUrl } =\n    useLoaderData<LoaderData>();\n  const [showLocale, setShowLocale] = useState<boolean>(false);\n  const matches = useMatches();\n  const currentLocale = matches[matches.length - 1]?.params.locale ?? \"\";\n  const currentPathname = matches[matches.length - 1]?.pathname ?? \"\";\n\n  useEffect(() => {\n    if (!window.sessionStorage.getItem(\"locale-recommendation-hidden\"))\n      setShowLocale(true);\n  }, [setShowLocale]);\n\n  return (\n    <BaseTemplate>\n      {recommendedLocale && (\n        <div\n          style={{\n            backgroundColor: \"#eee\",\n            padding: \"0.75rem\",\n            display: showLocale ? \"flex\" : \"none\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n          }}\n        >\n          <p style={{ margin: 0 }}>\n            <span style={{ marginRight: \"0.5rem\" }}>\n              {`This site is also available in ${\n                locales[recommendedLocale.split(\"-\")[1]][\n                  recommendedLocale.split(\"-\")[0]\n                ]\n              }.`}\n            </span>\n            <a href={recommendedLocaleUrl}>{`Switch to ${\n              recommendedLocale.split(\"-\")[0] === currentLocale.split(\"-\")[0]\n                ? locales[recommendedLocale.split(\"-\")[1]][\n                    recommendedLocale.split(\"-\")[0]\n                  ]\n                    .split(\"(\")[1]\n                    .split(\")\")[0]\n                    .trim()\n                : recommendedLocale.split(\"-\")[1] ===\n                  currentLocale.split(\"-\")[1]\n                ? locales[recommendedLocale.split(\"-\")[1]][\n                    recommendedLocale.split(\"-\")[0]\n                  ]\n                    .split(\"(\")[0]\n                    .trim()\n                : locales[recommendedLocale.split(\"-\")[1]][\n                    recommendedLocale.split(\"-\")[0]\n                  ]\n            } \u2192`}</a>\n          </p>\n          <button\n            style={{ border: 0, padding: 0 }}\n            aria-label=\"Hide\"\n            onClick={() => {\n              setShowLocale(false);\n              window.sessionStorage.setItem(\n                \"locale-recommendation-hidden\",\n                \"1\"\n              );\n            }}\n          >\n            <svg\n              style={{ height: \"0.75rem\" }}\n              viewBox=\"0 0 138 137\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <rect\n                x=\"125.922\"\n                y=\"0.264648\"\n                width=\"16\"\n                height=\"177\"\n                transform=\"rotate(45 125.922 0.264648)\"\n                fill=\"black\"\n              />\n              <rect\n                x=\"137.236\"\n                y=\"125.422\"\n                width=\"16\"\n                height=\"177\"\n                transform=\"rotate(135 137.236 125.422)\"\n                fill=\"black\"\n              />\n            </svg>\n          </button>\n        </div>\n      )}\n      <Outlet />\n      <footer>\n        <nav style={{ backgroundColor: \"#eee\", padding: \"1.5rem\" }}>\n          <h2 style={{ fontSize: \"100%\", margin: 0 }}>\n            {\"Change language & region\"}\n          </h2>\n          {Object.entries(locales).map(([countryCode, languages]) => (\n            <div key={countryCode}>\n              <h3 style={{ fontSize: \"100%\" }}>\n                {i18n[`country_${countryCode}`]}\n              </h3>\n              {Object.entries(languages).map(([languageCode, name]) => {\n                const locale = `${languageCode}-${countryCode}`;\n                const active = currentLocale === locale;\n                const href = currentPathname.replace(\n                  `/${currentLocale}`,\n                  `/${locale}`\n                );\n                return (\n                  <a\n                    style={{\n                      marginRight: \"1rem\",\n                      fontWeight: active ? \"bold\" : \"inherit\",\n                    }}\n                    onClick={(event) => {\n                      event.preventDefault();\n                      window.sessionStorage.setItem(\n                        \"locale-recommendation-hidden\",\n                        \"1\"\n                      );\n                      window.location.href = href;\n                    }}\n                    key={locale}\n                    href={href}\n                    aria-current={active ? \"page\" : \"false\"}\n                  >\n                    {name}\n                  </a>\n                );\n              })}\n            </div>\n          ))}\n        </nav>\n        <p>\u00A9 {new Date().getFullYear()}</p>\n      </footer>\n    </BaseTemplate>\n  );\n}\n\nexport const ErrorBoundary: ErrorBoundaryComponent = ({ error }) => {\n  console.error(error);\n  return <BaseTemplate>{error}</BaseTemplate>;\n};\n"],
  "mappings": "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",
  "names": []
}
